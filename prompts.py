# prompts.py - 更新所有提示词模板

PROMPT_COURSE_OUTLINE = """
你是一名课程设计专家。请根据以下信息生成一门课程的结构化大纲：

课程名称：{course_name}
教育阶段：{education_stage}
教学目标：{objectives}
学时数：{hours}

{policy_requirements}

请根据教育阶段特点生成合适的课程大纲：

{education_stage_guidance}

请生成包含以下内容的课程大纲（JSON格式）：
- 课程名称
- 教学目标
- 总学时
- 章节列表（每章包含章节名称、学时、重点内容）

请确保输出是纯JSON格式，不要包含其他文本。
"""

PROMPT_LECTURE_CONTENT = """
你是一名教师。请为以下章节生成详细的讲义内容（Markdown格式），包含知识点摘要和2-3个例题：

教育阶段：{education_stage}
章节名称：{chapter_name}
章节重点：{key_points}
学时：{hours}
生成语言：{generation_language}

{policy_requirements}

{education_stage_guidance}

请严格按照以下Markdown格式生成讲义内容：

# {chapter_name}

## 第一部分

### 知识点摘要
[在这里详细描述第一部分的知识点，每个知识点用换行分隔]

### 例题
1. **题目**：[第一个例题题目]
   **解析**：[详细的解题步骤和答案解析]

2. **题目**：[第二个例题题目]
   **解析**：[详细的解题步骤和答案解析]

## 第二部分

### 知识点摘要  
[在这里详细描述第二部分的知识点，每个知识点用换行分隔]

### 例题
1. **题目**：[第三个例题题目]
   **解析**：[详细的解题步骤和答案解析]

## 总结与建议

### 学习要点总结
- [要点1]
- [要点2] 
- [要点3]

### 学习建议
- [建议1]
- [建议2]
- [建议3]

重要要求：
1. 必须严格使用上述Markdown格式，确保每个例题都有清晰的题目和解析部分
2. 每个例题必须用数字编号，题目和解析要明确分开
3. 例题解析要详细，包含完整的解题步骤
4. 讲义内容必须严格符合上述教育政策/考试大纲的要求！
"""

PROMPT_RECOMMEND_RESOURCES = """
请为课程《{course_name}》推荐教学资源，该课程面向{education_stage}学生。

{education_stage_guidance}

请以严格的JSON格式返回，包含以下四个类别：

1. "教材": 推荐2-3本经典教材，每本包含"书名"、"作者"、"出版社"、"备注"字段
2. "在线视频": 推荐2-3个在线视频资源，每个包含"视频标题"、"发布平台"、"主讲人/机构"、"链接"字段  
3. "工具/软件": 推荐2-3个相关工具或软件，每个包含"工具名称"、"类型"、"用途"字段
4. "案例研究": 推荐2-3个案例研究，每个包含"案例名称"、"领域"、"描述"字段

要求：
- 必须是适合{education_stage}学生的资源
- 使用中文名称和描述
- 确保JSON格式正确，没有语法错误
- 每个字段的值都使用字符串格式
- 对于"在线视频"的链接，请使用搜索引擎链接，如百度搜索或B站搜索，而不是具体视频链接
- 搜索引擎链接格式示例：
  - 百度搜索：https://www.baidu.com/s?wd={course_name}+教学视频
  - B站搜索：https://search.bilibili.com/all?keyword={course_name}+教程

示例格式：
{{
  "教材": [
    {{
      "书名": "示例教材",
      "作者": "作者名",
      "出版社": "出版社名",
      "备注": "教材特点说明"
    }}
  ],
  "在线视频": [
    {{
      "视频标题": "示例视频",
      "发布平台": "B站搜索",
      "主讲人/机构": "多个来源",
      "链接": "https://search.bilibili.com/all?keyword=示例课程+教程"
    }},
    {{
      "视频标题": "示例视频",
      "发布平台": "百度搜索",
      "主讲人/机构": "多个来源", 
      "链接": "https://www.baidu.com/s?wd=示例课程+教学视频"
    }}
  ]
}}

请为课程《{course_name}》生成推荐资源：
"""

# 新增：教育阶段指导说明
EDUCATION_STAGE_GUIDANCE = {
    "小学": """
小学阶段内容要求：
- 目标：以激发兴趣，培养习惯，掌握基础知识和技能为目标
- 语言：用更有趣通俗易懂的话术，增加现实生活中的实例
- 方法：强调兴趣引导，多用故事、游戏、图片等元素
- 内容：基础知识为主，避免过于抽象复杂的概念
- 示例：多使用儿童熟悉的日常生活场景作为例子
""",
    
    "初中": """
初中阶段内容要求：
- 目标：以构建学科知识体系，训练基本思维方法和解题规范为目标
- 语言：从口语向书面语过渡，语言更为严谨、准确，但仍会用一些通俗的比喻帮助学生理解抽象概念
- 方法：注重逻辑性和系统性，开始引入抽象概念，使用表格、树状图等方式对知识点进行初步归纳
- 内容：定义、定理、公式成为核心内容，要求记忆和初步应用
- 特点：初中讲义是一个从具体到抽象的过渡，重在搭建知识框架和训练标准化思维流程的"脚手架"
""",
    
    "高中": """
高中阶段内容要求：
- 目标：深化与拓展学科体系，培养综合应用与逻辑思辨能力，用于应对选拔性考试
- 语言：正式、严谨的学术语言，强调准确性和规范性
- 方法：知识深度、广度显著增加，内容抽象、复杂，综合性强的知识点大量出现
- 内容：注重知识的内在联系和系统性，强调分析问题和解决问题的能力
- 特点：要求学生对知识有深刻理解和灵活应用能力
""",
    
    "大学": """
大学阶段内容要求：
- 目标：引导入门，展示学科前沿，启发独立思考，提供研究线索
- 语言：学术化、专业化，可以使用专业术语和概念
- 方法：前沿性与非定论性，形式自由，个性化强，信息量巨大，高度浓缩
- 内容："骨架"多于"血肉"，注重思维方法和研究能力的培养
- 特点：强调批判性思维，鼓励学生自主探索和研究
"""
}

# 新增：多轮对话更新讲义的提示词（包含教育阶段）
PROMPT_UPDATE_LECTURE = """
你是一名教师，正在根据用户反馈完善讲义内容。

教育阶段：{education_stage}
生成语言：{generation_language}
当前讲义内容：
{current_content}

{policy_requirements}

对话历史：
{conversation_history}

用户最新要求：
{user_input}

{education_stage_guidance}

请根据以上信息更新讲义内容，要求：
1. 严格保持原有的Markdown格式结构
2. 确保每个例题都有清晰的题目和解析部分，用数字编号
3. 根据用户要求和教育阶段特点进行适当修改、补充或调整
4. 确保内容专业准确、结构清晰，符合{education_stage}学生的学习特点
5. 使用{generation_language}生成内容
6. 如果用户要求不明确，可以适当询问或进行合理推断
7. 必须严格符合教育政策/考试大纲的要求！

请直接返回更新后的完整讲义内容，不要添加额外的说明。
"""